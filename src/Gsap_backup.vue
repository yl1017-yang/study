<template>
  <main class="container">
    <section class="content">
        {{ scriptInput.value }}


      <div class="sustainable_wrap">

        <section class="section01">
          <div class="inner">
            <div class="img_bg">
              <img src="https://d3phaj0sisr2ct.cloudfront.net/site/images/tools/aitools-background-01.jpg" alt="">
            </div>
            <div class="text_con1">
              <h1>#Sustainable Lifestyle</h1>
              <p>나와 지구를 위한 바른먹거리 마켓,<br>사람과 자연을 함께 사랑하는 풀무원이 권하는 지혜로운 라이프 스타일</p>
            </div>
            <div class="img_con">
                <!-- <img width="1830" height="860" src="https://p645224.mittwaldserver.info/wp-content/uploads/2023/09/leistungen-planung-waermebild.jpg" alt="">-->
                <video autoplay="" muted="" loop="" playsinline="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/Header_1.1+1.jpg">
                  <source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/Header_1.1+1.webm" type="video/webm">
                  <source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/Header_1.1+1.mp4" type="video/mp4">
                </video>
            </div>
            <div class="text_con2">
              <h2>Go from ideation <br> to execution in seconds.</h2>
              <p>With Text to Image and Text to Video, it’s easier than ever to explore ideas<br> visually instead of in the abstract.</p>
            </div>
          </div>
        </section>


        <section class="section02">
          <h1>스크롤시 교차되는 이미지</h1>
          <div class="inner">
            <div class="box1"><img src="https://cdn.pixabay.com/photo/2024/04/16/16/25/ai-generated-8700383_1280.jpg" alt=""></div>
            <div class="box2"><img src="https://cdn.pixabay.com/photo/2023/08/17/05/55/ai-generated-8195533_1280.png" alt=""></div>
            <div class="box3"><img src="https://cdn.pixabay.com/photo/2023/09/17/22/25/witch-8259351_1280.jpg" alt=""></div>
          </div>
        </section>


        <section class="section03">
          <h1>스크롤시 가로흐름 이미지</h1>
            <div class="row_img flow1">
              <div class="panel">
                <video loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_1.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_1.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_2.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_2.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_3.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_3.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_4.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_4.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_1.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_1.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_2.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_2.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_3.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_3.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_4.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_4.mp4" type="video/mp4"></video>
              </div>
            </div>

            <div class="row_img flow2">
              <div class="panel">
                <video  loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_5.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_5.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video  loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_6.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_6.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video  loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_7.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_7.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video  loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_8.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_8.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video  loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_5.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_5.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video  loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_6.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_6.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video  loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_7.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_7.mp4" type="video/mp4"></video>
              </div>
              <div class="panel">
                <video  loop="" playsinline="" autoplay="" muted="" poster="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_8.jpg"><source src="https://d3phaj0sisr2ct.cloudfront.net/site/videos/tools/custom-styles/CustomStyle_Video_8.mp4" type="video/mp4"></video>
              </div>
            </div>
            
        </section>


        <section class="section05">
          <h1>네번째 영역</h1>
        </section>

      </div>

    </section>
  </main>
</template>

<script>
export default {
  name: 'AppGsap',
  

  setup() {
    const value  = 'Sustainable 페이지 - GSAP' 
    const scriptInput  = { value }
    console.log(scriptInput.value)
    return { scriptInput }
  },

  mounted() {
    // GSAP 및 ScrollTrigger 스크립트를 동적으로 추가
    const gsapScript = document.createElement('script');
    gsapScript.src = "https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js";
    gsapScript.type = 'text/javascript';
    document.head.appendChild(gsapScript);

    const scrollTriggerScript = document.createElement('script');
    scrollTriggerScript.src = "https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js";
    scrollTriggerScript.type = 'text/javascript';
    document.head.appendChild(scrollTriggerScript);

    gsapScript.onload = scrollTriggerScript.onload = () => {
      // GSAP 및 ScrollTrigger 로딩 완료 후 애니메이션 코드 실행
      gsap.registerPlugin(ScrollTrigger);

      gsap.to(".text_con1", {
        scrollTrigger: {
          trigger: '.section01',
          start: "0% 0%",
          end: "100% 50%",
          scrub: 1,
          markers: true,
        },
        top: "-100%",
      });

      gsap.from(".text_con2", {
        scrollTrigger: {
          trigger: '.img_con',
          start: "0% 0%",
          end: "100% 100%",
          scrub: 1,
          markers: true,
        },
        top: "30%",
        duration: 1
      });

      gsap.fromTo(".img_bg",
        { opacity: 1, scale: 1 },
        {
          scrollTrigger: {
            trigger: '.section01 .inner',
            start: "0% 0%",
            end: "100% 0%",
            scrub: 0.5,
            markers: true,
          },
          scale: 1.2,
          opacity: 0,
        });

      gsap.fromTo(".section01 .img_con",
        { scale: 0.7 },
        {
          scale: 1,
          ease: "none",
          force3D: true,
          scrollTrigger: {
            pin: ".section01",
            trigger: ".section01",
            start: "0% 0%",
            end: "bottom top",
            scrub: 0.5,
            markers: true,
          },
          y: -100,
        }
      );

      gsap.to(".box2", {
        scrollTrigger: {
          trigger: '.section02',
          start: "0% 30%",
          end: "100% 80%",
          scrub: 1,
          markers: true,
        },
        duration: 1,
        y: 100
      });

      gsap.to(".box3", {
        scrollTrigger: {
          trigger: '.section02',
          start: "0% 30%",
          end: "100% 80%",
          scrub: 1,
          markers: true,
        },
        y: -100
      });

      gsap.to(".flow1 .panel", {
        xPercent: -100 * (flow1.length - 1),
        ease: "none",
        scrollTrigger: {
          trigger: ".section03",
          pin: true,
          scrub: 1,
          snap: 1 / (flow1.length - 1),
          end: () => "+=" + document.querySelector(".section03").offsetWidth
        }
      });
    };
  },

  methods: {
  }

}
</script>


<style scoped>
@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");

*{margin:0;padding:0;border:0;list-style:none;line-height:1.3;font-size:28px;box-sizing: border-box;font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;}
h1{font-size:60px;}
h2{font-size:40px;margin-bottom:5px;}

.sustainable_wrap{max-width:1920px;min-width:1168px;overflow: hidden; -webkit-overflow-scrolling: touch; overflow-scrolling: touch;}

.section01 {  position: relative; padding-bottom:100px; overflow: hidden;}  /* aspect-ratio: 2560/2880; background:#eee url(https://d3phaj0sisr2ct.cloudfront.net/site/images/tools/aitools-background-01.jpg) 100% 100% / cover no-repeat; */
.section01 .inner { position: relative; width: 100%; height: 100%; overflow: hidden;}
/* .section01 .inner .img_con { position: sticky; top: 0; z-index: 1; margin: 0 auto; height: auto; overflow: hidden; transform: scale(.6); } */
.section01 .text_con1 { position: fixed; top:0;left:0;width: 100%;height:100%; text-align: center;color:#fff;}
.section01 .text_con1 > h1 {margin-top:100px;}
.section01 .img_con { position: relative;  display: flex; flex-direction: column; width: 1400px; aspect-ratio: 1830/860; overflow: hidden; z-index: 0; margin:250px auto 0;} /* aspect-ratio: 2560/1226; */
.section01 .img_con video { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; height: auto; transition: transform 0.2s ease-in-out; }
.section01 .text_con2 { position: relative;width:1000px;margin:-50px 0 0 50px;}
.section01 .img_bg { position: absolute;top:0;left:0;right:0;height:100%;}
.section01 .img_bg img{width:100%;height:100%}

.section02 { position: relative; background: #ddd; height: 100vh; overflow: hidden; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.section02 .inner{width:1000px;margin:0 auto;display:flex;justify-content: space-between;}
.section02 .inner > div{width: 310px; height: 500px;text-align:center;color:#fff;overflow: hidden;}
.section02 .inner > div > img{width:100%;height:100%;}
.box1 {margin-top: 100px; background: #444; }
.box2 {margin-top: 150px; background: rgb(43, 136, 167); }
.box3 {margin-top: 200px; background: green; }

.section03 { position: relative;background: goldenrod; padding:150px 0;}
.row_img{width: 100%; height: auto; display: flex; flex-wrap: nowrap;}
.row_img .panel{flex: 1 1;height:320px;margin:.25rem;aspect-ratio: 16 / 9;}
.row_img .panel video{max-width:100%;width:100%;height:100%;object-fit:cover;border-radius:.375rem;overflow:hidden;}

.section04 { position: relative;background:#ddd; height: 100vh; overflow:hidden; display: flex;}
</style>
